<!DOCTYPE html>
<html lang="en">

<head>
	<title>By Mona</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Vidaloka" rel="stylesheet">

	<link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
	<link rel="stylesheet" href="css/animate.css">

	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<link rel="stylesheet" href="css/magnific-popup.css">

	<link rel="stylesheet" href="css/aos.css">

	<link rel="stylesheet" href="css/ionicons.min.css">

	<link rel="stylesheet" href="css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="css/jquery.timepicker.css">


	<link rel="stylesheet" href="css/flaticon.css">
	<link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/slider.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<style>
		#contentsDiv {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		#imgsDiv,
		#detailsDiv {
			height: 500px;
		}

		#bigimg {
			width: 550px;
			min-height: 300px;
			max-height: 400px;
		}

		.smimgs {
			height: 80px;
			width: 100px;
			border: 1px gray solid;
		}



		#detailsDiv p {
			margin: 20px;
		}

		#title,
		#description {
			word-wrap: break-word;
		}
	</style>
</head>

<body>

	<div class="page">
		<nav id="colorlib-main-nav" role="navigation">
			<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle active"><i></i></a>
			<div class="js-fullheight colorlib-table">
				<div class="img"></div>
				<div class="colorlib-table-cell js-fullheight">
					<div class="row no-gutters">
						<div class="col-md-12 text-center">
							<h1 class="mb-4"><a href="index.html" class="logo" style="text-decoration: none;">By
									Mona<br><span>Outfit</span></a></h1>
							<ul>
								<li><a href="index.html" style="text-decoration: none;"><span>Inicio</span></a></li>
								<li><a href="quienes-somos.html" style="text-decoration: none;"><span>Quienes
											Somos</span></a></li>
								<li class="active"><a href="catalogo.html"
										style="text-decoration: none;"><span>Catálogo</span></a></li>
								<li><a href="contacto.html" style="text-decoration: none;"><span>Contacto</span></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<div id="colorlib-page" style="background-color:#e9c081;">
			<header>
				<div class="container" style="display: flex; justify-content: space-between;">
				  <div class="colorlib-navbar-brand" style="margin-top: 25px;">
					<a class="colorlib-logo" href="index.html" style="text-decoration: none;">By Mona<br><span>Outfit</span></a>
				  </div>
				  <div style="margin-right: 50px; margin-top: 30px;">
					  <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
				  </div>
			  </div>
			</header>

			<section class="hero-wrap" style="background-image: url(images/portada.jpg);">
				<div class="overlay"></div>
				<div class="container">
					<div class="row no-gutters text align-items-end justify-content-center" data-scrollax-parent="true">
						<div class="col-md-8 ftco-animate text-center" id="titulo">
							<p class="breadcrumbs"><span class="mr-2"><a href="index.html">Inicio</a></span>
								<span>Detalle De Producto</span>
							</p>

						</div>
					</div>
				</div>
			</section>
			<br><br>

			<div id="contentsDiv">
				<div id="imgsDiv" class="">


				</div>

				<div id="detailsDiv">

				</div>

			</div>

			<footer class="ftco-footer ftco-section img">
				<div class="overlay"></div>
				<div class="container">
					<div class="row">
						<div class="col-md-12 text-center">

							<p>
								<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
								Copyright &copy;
								<script>document.write(new Date().getFullYear());</script> All rights reserved |
								Desarrollado Por <a href="https://topdigitalbuilders.com" target="_blank">Digital
									Builders</a>
								<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
							</p>
						</div>
					</div>
				</div>
			</footer>

			<!-- loader -->
			<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
					<circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
					<circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
						stroke="#F96D00" />
				</svg></div>

		</div>

		<!-- Modal -->
		<div class="modal fade" id="modalRequest" tabindex="-1" role="dialog" aria-labelledby="modalRequestLabel"
			aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="modalRequestLabel">Request a Quote</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form action="#">
							<div class="form-group">
								<label for="appointment_name" class="text-black">Full Name</label>
								<input type="text" class="form-control" id="appointment_name">
							</div>
							<div class="form-group">
								<label for="appointment_email" class="text-black">Email</label>
								<input type="text" class="form-control" id="appointment_email">
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="appointment_date" class="text-black">Date</label>
										<input type="text" class="form-control" id="appointment_date">
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="appointment_time" class="text-black">Time</label>
										<input type="text" class="form-control" id="appointment_time">
									</div>
								</div>
							</div>


							<div class="form-group">
								<label for="appointment_message" class="text-black">Message</label>
								<textarea name="" id="appointment_message" class="form-control" cols="30"
									rows="10"></textarea>
							</div>
							<div class="form-group">
								<input type="submit" value="Send Message" class="btn btn-primary">
							</div>
						</form>
					</div>

				</div>
			</div>
		</div>
	</div>

	<script type="module">


		window.addEventListener("load", getProductUrl);

		function hasWhiteSpace(s) {
			return (/\s/).test(s);
		}

		function getProductUrl() {

			var url = window.location.href;

			var idIndex = 0;

			for (let index = 0; index < url.length; index++) {
				const element = url[index];

				if (element == '=') {
					idIndex = index;
					break;
				}
			}

			var id = url.substring(idIndex + 1);

			GetProduct(id);
		}

		function GetProduct(id) {
			const dbref = ref(realdb);

			get(child(dbref, "products")).then((snapshot) => {
				snapshot.forEach((prod) => {

					const producto = prod.val();

					if (producto.id == id) {

						AddAProduct(producto);

					}

				});

			});
		}

		function AddAProduct(product) {

			var newDescription = "";

			for (var i = 0; i < product.description.length; i++) {
				
				if (product.description[i] == "\n"){
					newDescription += "<br>";
				} else {
					newDescription += product.description[i];
				}	
			}

			//-------- TITULO ------ 
			var titulo = document.getElementById("titulo");

			titulo.innerHTML +=
				`	
				<h1 class="mb-5 bread">${product.productTitle}</h1>
			  	`
				;

			//-------- DETALLE ------ 

			var detalle = document.getElementById("detailsDiv");

			detalle.innerHTML +=
				`	
					<h4 id="title">${product.productTitle}</h4>
					<p id="description" style="color:white">${newDescription}</p>
					<h3 id="price">$ ${product.price}</h3>
					<br>
					<a href="https://wa.me/+59898543623?text=Hola, quería obteber más información acerca de ${product.productTitle}" class="wpp-contact" style="text-decoration: none;">Contacto Whatsapp</a>
	 			 `
				;

			//-------- IMAGES SLIDER ------ 

			var imagenesSlider = document.getElementById('imgsDiv');

			imagenesSlider.innerHTML += `
				
				<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
						<div class="carousel-inner" id="carousel-inner">
							<div class="carousel-item active" style="width: 100%; height: 400px;" >
							<img src="${product.linksOfImagesArray[0]}" class="d-block w-100" alt="..." style="object-fit: contain;  
							object-position: center;
							height: 100%;
							overflow: hidden;">
				</div>
					
						</div>
						<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
						  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
						  <span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
						  <span class="carousel-control-next-icon" aria-hidden="true"></span>
						  <span class="visually-hidden">Next</span>
						</button>
					  </div>
				`;

			var imagenesSliderInside = document.getElementById('carousel-inner');

			product.linksOfImagesArray.shift();

			product.linksOfImagesArray.forEach((img) => {

				imagenesSliderInside.innerHTML += ` 
				
			<div class="carousel-item" style="width: 100%; height: 400px;" >
			<img src="${img}" class="d-block w-100" alt="..." style="object-fit: contain;   
			object-position: center;
			height: 100%;
			overflow: hidden;">
			</div>
				
				`;
			});

		}




		// ---------------- FIREBASE ----------------- //

		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries

		// Your web app's Firebase configuration
		const firebaseConfig = {
			apiKey: "AIzaSyAguwNQu-9ohom5ZC1SMOv-UKbeJeg982g",
			authDomain: "bymona-8dccf.firebaseapp.com",
			projectId: "bymona-8dccf",
			storageBucket: "bymona-8dccf.appspot.com",
			messagingSenderId: "672892089620",
			appId: "1:672892089620:web:c3d7e94fcd73c12289be01",
		};

		// Initialize Firebase
		const app = initializeApp(firebaseConfig);

		// import firebase storage funtcions

		import {
			getStorage,
			ref as sRef,
			uploadBytesResumable,
			getDownloadURL,
		} from "https://www.gstatic.com/firebasejs/9.6.11/firebase-storage.js";

		// Firebase Realtime Database
		import {
			getDatabase,
			ref,
			set,
			child,
			get,
		} from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";
		const realdb = getDatabase();

	</script>


	<script src="js/jquery.min.js"></script>
	<script src="js/jquery-migrate-3.0.1.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.easing.1.3.js"></script>
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/jquery.stellar.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/aos.js"></script>
	<script src="js/jquery.animateNumber.min.js"></script>
	<script src="js/scrollax.min.js"></script>
	<script src="js/jquery.mb.YTPlayer.min.js"></script>
	<script src="js/bootstrap-datepicker.js"></script>
	<script src="js/jquery.timepicker.min.js"></script>

	<script src="js/google-map.js"></script>
	<script src="js/main.js"></script>
	<script src="js/slider.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>

</body>

</html>